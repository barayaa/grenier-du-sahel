<div class="container-fluid py-4">
    <h2 class="mb-4">Détails du Produit</h2>

    <div *ngIf="produit; else notFound">
        <div class="row">
            <!-- Image et Informations Principales -->
            <div class="col-md-6">
                <nz-card class="shadow-sm">
                    <img [src]="produit.image" [alt]="produit.nom" class="img-fluid rounded mb-3"
                        style="max-height: 300px; object-fit: cover;" />
                    <h3>{{ produit.nom }}</h3>
                    <p class="text-muted">{{ produit.categorie }} - {{ produit.prix | number }} FCFA</p>
                    <nz-divider></nz-divider>
                    <h5>Description</h5>
                    <p>{{ produit.description }}</p>
                    <nz-divider></nz-divider>
                    <h5>Vendeur</h5>
                    <p>{{ produit.vendeur }}</p>
                    <nz-divider></nz-divider>
                    <h5>Quantité Disponible</h5>
                    <p>{{ produit.quantite }} {{ produit.unite }}</p>
                    <nz-divider></nz-divider>
                    <h5>Date de Publication</h5>
                    <p>{{ produit.datePublication | date: 'dd MMMM yyyy' }}</p>
                    <button nz-button nzType="primary" class="mt-3">Contacter le Vendeur</button>
                </nz-card>
            </div>

            <!-- Carte de Localisation -->
            <div class="col-md-6">
                <nz-card class="shadow-sm" nzTitle="Localisation du Produit">
                    <div leaflet [leafletOptions]="mapOptions" [leafletLayers]="layers" style="height: 400px;"></div>
                </nz-card>
            </div>
        </div>
    </div>

    <ng-template #notFound>
        <nz-card class="shadow-sm">
            <p class="text-muted">Produit non trouvé.</p>
        </nz-card>
    </ng-template>
</div>