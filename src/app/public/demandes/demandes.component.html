<div class="container-fluid py-4">
    <h2 class="mb-4">Liste des Demandes</h2>

    <!-- Filtres -->
    <div class="row mb-4">
        <div class="col-md-6">
            <nz-input-group nzSearch nzSize="large">
                <input type="text" nz-input placeholder="Rechercher une demande..." />
            </nz-input-group>
            <!-- <ng-template #searchButton>
                <button nz-button nzType="primary" nzSearch>
                    <i nz-icon nzType="search"></i> Rechercher
                </button>
            </ng-template> -->
        </div>
        <div class="col-md-6 text-center">
            <button nz-button nzType="primary" style="background-color: green; border: none;"
                [routerLink]="['/public/demandes/new']">
                <i nz-icon nzType="plus"></i> Ajouter une Demande
            </button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4 mb-4" *ngFor="let demande of demandes">
            <nz-card class="demand-card shadow-sm" [nzTitle]="cardTitle" [nzExtra]="extraTemplate">
                <div class="d-flex  justify-content-between align-items-center">
                    <div>
                        <p><strong>Produit :</strong> {{ demande.produit }}</p>
                        <p><strong>Quantité :</strong> {{ demande.quantite }}</p>
                        <p><strong>Date :</strong> {{ demande.date }}</p>
                    </div>
                    <nz-tag [nzColor]="demande.statut === 'En attente' ? 'orange' : 'green'">
                        {{ demande.statut }}
                    </nz-tag>
                </div>
                <ng-template #cardTitle>
                    <h5 class="mb-0">Demande #{{ demande.id }}</h5>
                </ng-template>
                <ng-template #extraTemplate>
                    <a nz-button style="background-color: green; border: none;" nzType="primary"
                        [routerLink]="['public/demandes', demande.id]">
                        <i nz-icon nzType="eye"></i> Détails
                    </a>
                </ng-template>
            </nz-card>
        </div>
    </div>
</div>